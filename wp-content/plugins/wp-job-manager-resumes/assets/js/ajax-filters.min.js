jQuery(document).ready(function(v){var e,w=[];v(".resumes").on("update_results",function(e,a,s){var r,t,i,n,o,d="",l=v(this),c=l.find(".resume_filters"),u=l.find(".showing_resumes"),_=l.find(".resumes"),g=l.data("per_page"),m=l.data("orderby"),h=l.data("order"),p=l.data("featured"),f=v("div.resumes").index(this);w[f]&&w[f].abort(),s?v(".load_more_resumes",l).addClass("loading"):(v(_).addClass("loading"),v("li.resume, li.no_resumes_found",_).css("visibility","hidden")),d=1==l.data("show_filters")?(r=c.find(':input[name^="search_categories"]').map(function(){return v(this).val()}).get(),i=t="",n=c.find(':input[name="search_keywords"]'),o=c.find(':input[name="search_location"]'),n.val()!=n.attr("placeholder")&&(t=n.val()),o.val()!=o.attr("placeholder")&&(i=o.val()),{action:"resume_manager_get_resumes",search_keywords:t,search_location:i,search_categories:r,per_page:g,orderby:m,order:h,page:a,featured:p,show_pagination:l.data("show_pagination"),form_data:c.serialize()}):{action:"resume_manager_get_resumes",search_categories:l.data("categories").split(","),search_keywords:l.data("keywords"),search_location:l.data("location"),per_page:g,orderby:m,order:h,featured:p,page:a,show_pagination:l.data("show_pagination")},w[f]=v.ajax({type:"POST",url:resume_manager_ajax_filters.ajax_url,data:d,success:function(e){if(e)try{e.showing?v(u).show().html("").append("<span>"+e.showing+"</span>"+e.showing_links):v(u).hide(),e.html&&(s?v(_).append(e.html):v(_).html(e.html)),1==l.data("show_pagination")?(l.find(".job-manager-pagination").remove(),e.pagination&&l.append(e.pagination)):(e.found_resumes&&e.max_num_pages!==a?v(".load_more_resumes",l).show().data("page",a):v(".load_more_resumes",l).hide(),v(".load_more_resumes",l).removeClass("loading"),v("li.resume",_).css("visibility","visible")),v(_).removeClass("loading"),l.triggerHandler("updated_results",e)}catch(e){}}})}),v("#search_keywords, #search_location, #search_categories").change(function(){v(this).closest("div.resumes").triggerHandler("update_results",[1,!1])}).change(),v(".resume_filters").on("click",".reset",function(){var e=v(this).closest("div.resumes"),a=v(this).closest("form");return a.find(':input[name="search_keywords"]').not(':input[type="hidden"]').val(""),a.find(':input[name="search_location"]').not(':input[type="hidden"]').val(""),a.find(':input[name^="search_categories"]').not(':input[type="hidden"]').val(0).trigger("chosen:updated").trigger("change.select2"),e.triggerHandler("reset"),e.triggerHandler("update_results",[1,!1]),!1}),v(".load_more_resumes").click(function(){var e=v(this).closest("div.resumes"),a=(a=v(this).data("page"))?parseInt(a):1;return v(this).data("page",a+1),e.triggerHandler("update_results",[a+1,!0]),!1}),v("div.resumes").on("click",".job-manager-pagination a",function(){var e=v(this).closest("div.resumes"),a=v(this).data("page");return e.triggerHandler("update_results",[a,!1]),!1}),v.isFunction(v.fn.select2)?(e={allowClear:!0,minimumResultsForSearch:10},1===parseInt(resume_manager_ajax_filters.is_rtl,10)&&(e.dir="rtl"),v('select[name^="search_categories"]:visible').select2(e)):v.isFunction(v.fn.chosen)&&v('select[name^="search_categories"]:visible').chosen()});